{"version":3,"file":"scripts/commissaire-bundle.js","mappings":";;;;;AAAA;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,0FAA0F,cAAc;AACxG,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,oEAAoE,SAAS;AAC7E,qFAAqF,OAAO,kBAAkB,SAAS;AACvH,KAAK;;AAEL;AACA;AACA;AACA,8FAA8F,UAAU,oBAAoB,WAAW;AACvI,+CAA+C,UAAU,oBAAoB,WAAW;AACxF,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;;;AAIL,CAAC","sources":["webpack://client-app/./src/scripts/commissaire-priseur.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    let highestBid = 0;\n    let winningBidder = null;\n    let auctionInProgress = false;\n\n\n    document.getElementById('start-button').addEventListener('click', () => start());\n    document.getElementById('end-button').addEventListener('click', () => end());\n\n\n    const socket = io();\n    socket.emit('auctioneer');\n\n\n\n    function start() {\n        if (auctionInProgress) {\n            alert(\"Il y a déjà une vente aux enchères en cours. Attendez qu'elle soit terminée.\");\n            return;\n        }\n        const item = document.getElementById('objet').value.trim();\n        const initialPrice = document.getElementById('prix').value.trim();\n        if (item !== '' && initialPrice !== '') {\n            socket.emit('startAuction', item, initialPrice);\n            auctionInProgress = true;\n        } else {\n            alert(\"Veuillez spécifier un objet et un prix avant de démarrer l'enchère.\");\n        }\n    }\n\n    function end() {\n        socket.emit('endAuction');\n        auctionInProgress = false;\n        //alert(\"Vente aux enchères terminée !\");\n    }\n\n\n\n    socket.on('connected', () => {\n        console.log('Connecté au serveur de sockets en tant que commissaire-priseur');\n        document.getElementById('commissaire-info').innerText = `Vous êtes connecté en tant que commissaire-priseur`;\n    });\n\n    socket.on('auctioneerJoined', () => {\n        console.log(\"Le commissaire a rejoint les enchères\");\n        document.getElementById('commissaire-info').innerText = `Vous êtes le commissaire priseur n°1.`;\n    });\n\n    socket.on('auctionAlreadyInProgress', () => {\n        alert(\"Il y a déjà un commissaire-priseur.\");\n        document.getElementById('commissaire-info').innerText = `Il y a déjà un commissaire-priseur.`;\n        const encheresForm = document.getElementById('enchere-form');\n        if (encheresForm) {\n            encheresForm.remove();\n        }\n    });\n\n    socket.on('auctionStarted', (item, initialPrice) => {\n        document.getElementById('montant-actuel').innerText = `Montant actuel enchère : ${initialPrice} €`;\n    });\n\n    socket.on('bidReceived', (bidderId, amount) => {\n        const currentPriceElement = document.getElementById('montant-actuel');\n        const currentPriceText = currentPriceElement.innerText.replace('Montant actuel enchère : ', '');\n        const currentPrice = parseInt(currentPriceText);\n        const newPrice = currentPrice + amount;\n        currentPriceElement.innerText = `Montant actuel enchère : ${newPrice}€`;\n        document.getElementById('commissaire-info').innerText = `Offre confirmée : ${amount}€ de la part de ${bidderId}.`;\n    });\n\n    socket.on('winner', (bidderId, currentBid) => {\n        const currentPriceElement = document.getElementById('montant-actuel');\n        currentBid = parseInt(currentPriceElement.innerText);\n        document.getElementById('commissaire-info').innerText =\"Le gagnant de l'enchère est ${bidderId} avec une offre de ${currentBid}€.\";\n        //alert(`Le gagnant de l'enchère est ${bidderId} avec une offre de ${currentBid}€.`);\n    });\n\n\n    socket.on('auctionEndedForBidders', () => {\n        alert(\"Les enchères sont terminées.\");\n        auctionInProgress = false;\n        document.getElementById('commissaire-info').innerText = 'Vente terminée';\n        const encheresForm = document.getElementById('enchere-form');\n        if (encheresForm) {\n            encheresForm.remove();\n        }\n    });\n    socket.on('auctionEndedWithoutWinner', () => {\n        document.getElementById('commissaire-info').innerText = \"La vente aux enchères est terminée sans gagnant.\";\n        alert(\"La vente aux enchères est terminée sans gagnant.\");\n        const encheresForm = document.getElementById('enchere-form');\n        if (encheresForm) {\n            encheresForm.remove();\n        }\n    });\n\n\n\n});\n"],"names":[],"sourceRoot":""}